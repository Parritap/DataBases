create table CATEGORIA
(
    IDCATEGORIA      NUMBER not null
        constraint CATEGORIA_PK
            primary key,
    DESCRIPCION      VARCHAR2(40),
    IDCATEGORIAPADRE NUMBER
        constraint CATEGORIASUBCATEGORIAFK
            references CATEGORIA
)
/

create table CLIENTE
(
    IDCLIENTE     NUMBER not null
        constraint CLIENTE_PK
            primary key,
    NOMBRE        VARCHAR2(40),
    APELLIDO      VARCHAR2(40),
    EMAIL         VARCHAR2(40),
    TELEFONO      VARCHAR2(20),
    FECHAINACTIVO DATE
)
/

create table COLOR
(
    IDCOLOR     NUMBER not null
        constraint COLOR_PK
            primary key,
    DESCRIPCION VARCHAR2(40)
)
/

create table ESTADOVENTA
(
    IDESTADO    NUMBER not null
        constraint ESTADOVENTA_PK
            primary key,
    DESCRIPCION VARCHAR2(40)
)
/

create table FACTURAVENTA
(
    NUMEROORDEN NUMBER not null
        constraint FACTURAVENTA_PK
            primary key,
    FECHA       DATE,
    IDCLIENTE   NUMBER not null
        constraint FACTURAVENTA_CLIENTE_FK
            references CLIENTE,
    IDESTADO    NUMBER not null
        constraint FACTURAVENTA_ESTADOVENTA_FK
            references ESTADOVENTA
)
/

create table PRODUCTO
(
    IDPRODUCTO            NUMBER not null
        constraint PRODUCTO_PK
            primary key,
    NOMBREPRODUCTO        VARCHAR2(40),
    DESCRIPCIÓN           VARCHAR2(40),
    CATEGORIA_IDCATEGORIA NUMBER not null
        constraint PRODUCTO_CATEGORIA_FK
            references CATEGORIA,
    COLOR_IDCOLOR         NUMBER not null
        constraint PRODUCTO_COLOR_FK
            references COLOR,
    PRECIOVENTA           FLOAT,
    PRECIOCOMPRA          FLOAT,
    CANTIDAD              NUMBER
)
/

create table DETALLEVENTA
(
    NUMEROORDEN    NUMBER not null
        constraint DETALLEVENTA_FACTURAVENTA_FK
            references FACTURAVENTA,
    IDPRODUCTO     NUMBER not null
        constraint DETALLEVENTA_PRODUCTO_FK
            references PRODUCTO,
    CANTIDAD       NUMBER,
    PRECIOUNITARIO FLOAT,
    constraint DETALLEVENTA_PK
        primary key (NUMEROORDEN, IDPRODUCTO)
)
/

create table HISTORIALPRODUCTO
(
    IDHISTORIAL NUMBER not null
        constraint HISTORIALPRODUCTO_PK
            primary key,
    FECHAACCIÓN DATE,
    TIPOACCION  VARCHAR2(40),
    IDPRODUCTO  NUMBER not null
        constraint HISTORIALPRODUCTO_PRODUCTO_FK
            references PRODUCTO
)
/

create table REGION
(
    IDREGION    NUMBER not null
        constraint REGION_PK
            primary key,
    DESCRIPCION VARCHAR2(40)
)
/

create table PROVINCIA
(
    IDPROVINCIA     NUMBER not null
        constraint PROVINCIA_PK
            primary key,
    NOMBREPROVINCIA VARCHAR2(40),
    REGION_IDREGION NUMBER not null
        constraint PROVINCIA_REGION_FK
            references REGION
)
/

create table CIUDAD
(
    IDCIUDAD     NUMBER not null
        constraint CIUDAD_PK
            primary key,
    IDPROVINCIA  NUMBER not null
        constraint CIUDAD_PROVINCIA_FK
            references PROVINCIA,
    CODIGOPOSTAL NUMBER,
    NOMBRE       VARCHAR2(20)
)
/

create table TIPODIRECCION
(
    IDTIPO      NUMBER not null
        constraint TIPODIRECCION_PK
            primary key,
    DESCRIPCION VARCHAR2(40)
)
/

create table DIRECCION
(
    IDDIRECCIÓN NUMBER not null
        constraint DIRECCION_PK
            primary key,
    DIRECCIÓN   VARCHAR2(40),
    IDCIUDAD    NUMBER not null
        constraint DIRECCION_CIUDAD_FK
            references CIUDAD,
    IDCLIENTE   NUMBER not null
        constraint DIRECCION_CLIENTE_FK
            references CLIENTE,
    IDTIPO      NUMBER not null
        constraint DIRECCION_TIPODIRECCION_FK
            references TIPODIRECCION
)
/


------------------- POBLAR BASE DE DATOS ---------------------------------


-- Insertar registros en la tabla REGION
INSERT INTO REGION (IDREGION, DESCRIPCION)
VALUES (1, 'Región 1');
INSERT INTO REGION (IDREGION, DESCRIPCION)
VALUES (2, 'Región 2');
INSERT INTO REGION (IDREGION, DESCRIPCION)
VALUES (3, 'Región 3');
INSERT INTO REGION (IDREGION, DESCRIPCION)
VALUES (4, 'Región 4');
INSERT INTO REGION (IDREGION, DESCRIPCION)
VALUES (5, 'Región 5');

-- Insertar registros en la tabla PROVINCIA
INSERT INTO PROVINCIA (IDPROVINCIA, NOMBREPROVINCIA, REGION_IDREGION)
VALUES (1, 'Provincia 1', 1);
INSERT INTO PROVINCIA (IDPROVINCIA, NOMBREPROVINCIA, REGION_IDREGION)
VALUES (2, 'Provincia 2', 2);
INSERT INTO PROVINCIA (IDPROVINCIA, NOMBREPROVINCIA, REGION_IDREGION)
VALUES (3, 'Provincia 3', 3);
INSERT INTO PROVINCIA (IDPROVINCIA, NOMBREPROVINCIA, REGION_IDREGION)
VALUES (4, 'Provincia 4', 4);
INSERT INTO PROVINCIA (IDPROVINCIA, NOMBREPROVINCIA, REGION_IDREGION)
VALUES (5, 'Provincia 5', 5);

-- Insertar registros en la tabla CIUDAD
INSERT INTO CIUDAD (IDCIUDAD, IDPROVINCIA, CODIGOPOSTAL, NOMBRE)
VALUES (1, 1, 10001, 'Ciudad 1');
INSERT INTO CIUDAD (IDCIUDAD, IDPROVINCIA, CODIGOPOSTAL, NOMBRE)
VALUES (2, 2, 20002, 'Ciudad 2');
INSERT INTO CIUDAD (IDCIUDAD, IDPROVINCIA, CODIGOPOSTAL, NOMBRE)
VALUES (3, 3, 30003, 'Ciudad 3');
INSERT INTO CIUDAD (IDCIUDAD, IDPROVINCIA, CODIGOPOSTAL, NOMBRE)
VALUES (4, 4, 40004, 'Ciudad 4');
INSERT INTO CIUDAD (IDCIUDAD, IDPROVINCIA, CODIGOPOSTAL, NOMBRE)
VALUES (5, 5, 50005, 'Ciudad 5');

-- Insertar registros en la tabla CLIENTE
INSERT INTO CLIENTE (IDCLIENTE, NOMBRE, APELLIDO, EMAIL, TELEFONO, FECHAINACTIVO)
VALUES (1, 'Cliente 1', 'Apellido 1', 'cliente1@example.com', '123456789', TO_DATE('2024-03-03', 'YYYY-MM-DD'));
INSERT INTO CLIENTE (IDCLIENTE, NOMBRE, APELLIDO, EMAIL, TELEFONO, FECHAINACTIVO)
VALUES (2, 'Cliente 2', 'Apellido 2', 'cliente2@example.com', '987654321', TO_DATE('2024-03-03', 'YYYY-MM-DD'));
INSERT INTO CLIENTE (IDCLIENTE, NOMBRE, APELLIDO, EMAIL, TELEFONO, FECHAINACTIVO)
VALUES (3, 'Cliente 3', 'Apellido 3', 'cliente3@example.com', '555555555', TO_DATE('2024-03-03', 'YYYY-MM-DD'));
INSERT INTO CLIENTE (IDCLIENTE, NOMBRE, APELLIDO, EMAIL, TELEFONO, FECHAINACTIVO)
VALUES (4, 'Cliente 4', 'Apellido 4', 'cliente4@example.com', '444444444', TO_DATE('2024-03-03', 'YYYY-MM-DD'));
INSERT INTO CLIENTE (IDCLIENTE, NOMBRE, APELLIDO, EMAIL, TELEFONO, FECHAINACTIVO)
VALUES (5, 'Cliente 5', 'Apellido 5', 'cliente5@example.com', '333333333', TO_DATE('2024-03-03', 'YYYY-MM-DD'));

-- Insertar registros en la tabla TIPODIRECCION
INSERT INTO TIPODIRECCION (IDTIPO, DESCRIPCION)
VALUES (1, 'Tipo 1');
INSERT INTO TIPODIRECCION (IDTIPO, DESCRIPCION)
VALUES (2, 'Tipo 2');
INSERT INTO TIPODIRECCION (IDTIPO, DESCRIPCION)
VALUES (3, 'Tipo 3');
INSERT INTO TIPODIRECCION (IDTIPO, DESCRIPCION)
VALUES (4, 'Tipo 4');
INSERT INTO TIPODIRECCION (IDTIPO, DESCRIPCION)
VALUES (5, 'Tipo 5');

-- Insertar registros en la tabla DIRECCION
INSERT INTO DIRECCION (IDDIRECCIÓN, DIRECCIÓN, IDCIUDAD, IDCLIENTE, IDTIPO)
VALUES (1, 'Dirección 1', 1, 1, 1);
INSERT INTO DIRECCION (IDDIRECCIÓN, DIRECCIÓN, IDCIUDAD, IDCLIENTE, IDTIPO)
VALUES (2, 'Dirección 2', 2, 2, 2);
INSERT INTO DIRECCION (IDDIRECCIÓN, DIRECCIÓN, IDCIUDAD, IDCLIENTE, IDTIPO)
VALUES (3, 'Dirección 3', 3, 3, 3);
INSERT INTO DIRECCION (IDDIRECCIÓN, DIRECCIÓN, IDCIUDAD, IDCLIENTE, IDTIPO)
VALUES (4, 'Dirección 4', 4, 4, 4);
INSERT INTO DIRECCION (IDDIRECCIÓN, DIRECCIÓN, IDCIUDAD, IDCLIENTE, IDTIPO)
VALUES (5, 'Dirección 5', 5, 5, 5);

-- Insertar registros en la tabla COLOR
INSERT INTO COLOR (IDCOLOR, DESCRIPCION)
VALUES (1, 'Amarillo');
INSERT INTO COLOR (IDCOLOR, DESCRIPCION)
VALUES (2, 'Rojo');
INSERT INTO COLOR (IDCOLOR, DESCRIPCION)
VALUES (3, 'Azul');
INSERT INTO COLOR (IDCOLOR, DESCRIPCION)
VALUES (4, 'Verde');
INSERT INTO COLOR (IDCOLOR, DESCRIPCION)
VALUES (5, 'Negro');

-- Insertar registros en la tabla ESTADOVENTA
INSERT INTO ESTADOVENTA (IDESTADO, DESCRIPCION)
VALUES (1, 'Confirmada');
INSERT INTO ESTADOVENTA (IDESTADO, DESCRIPCION)
VALUES (2, 'En Proceso');
INSERT INTO ESTADOVENTA (IDESTADO, DESCRIPCION)
VALUES (3, 'Anulada');

-- Insertar registros en la tabla CATEGORIA
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (1, 'Categoría 1', null);
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (2, 'Categoría 2', 1);
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (3, 'Categoría 3', 2);
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (4, 'Categoría 4', 1);
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (5, 'Categoría 5', 4);

-- Categoría 10
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (10, 'Categoría 10', 5);

-- Categoría 11
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (11, 'Categoría 11', 3);

-- Categoría 12
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (12, 'Categoría 12', 2);

-- Categoría 13
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (13, 'Categoría 13', 8);

-- Categoría 14
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (14, 'Categoría 14', 6);

-- Categoría 15
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (15, 'Categoría 15', 7);

-- Categoría 16
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (16, 'Categoría 16', 11);

-- Categoría 17
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (17, 'Categoría 17', 10);

-- Categoría 18
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (18, 'Categoría 18', 13);

-- Categoría 19
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE)
VALUES (19, 'Categoría 19', 12);


-- Insertar registros en la tabla PRODUCTO
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (1, 'Producto 1', 'Descripción 1', 1, 1, 100.00, 50.00, 10);
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (2, 'Producto 2', 'Descripción 2', 2, 2, 200.00, 100.00, 20);
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (3, 'Producto 3', 'Descripción 3', 3, 3, 300.00, 150.00, 30);
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (4, 'Producto 4', 'Descripción 4', 4, 4, 400.00, 200.00, 40);
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (5, 'Producto 5', 'Descripción 5', 5, 5, 500.00, 250.00, 50);
-- Producto 6
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (6, 'Laptop Ultra', 'Potente laptop para profesionales', 2, 1, 1500.00, 1200.00, 8);

-- Producto 7
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (7, 'Smartphone Plus', 'Teléfono inteligente última gen.', 3, 2, 800.00, 600.00, 15);

-- Producto 8
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (8, 'Auriculares Inalámbricos', 'Auriculares Bluetooth', 4, 4, 120.00, 90.00, 20);

-- Producto 9
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (9, 'Teclado Mecánico', 'Teclado gamers retroiluminado', 2, 3, 80.00, 60.00, 10);

-- Producto 10
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (10, 'Monitor Curvo', 'Pantalla HD con diseño curvo', 1, 5, 300.00, 250.00, 5);

-- Producto 11
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (11, 'Cámara de Seguridad', 'Cámara alta resolución', 5, 2, 180.00, 150.00, 12);

-- Producto 12
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (12, 'Impresora Multifunc.', 'Impresora con escáner integrado', 3, 1, 200.00, 160.00, 8);

-- Producto 13
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (13, 'Batería Externa', 'Cargador portátil móviles', 4, 3, 30.00, 20.00, 25);

-- Producto 14
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (14, 'Altavoces Bluetooth', 'Altavoces inalámbricos', 5, 4, 70.00, 50.00, 15);

-- Producto 15
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA,
                      PRECIOCOMPRA, CANTIDAD)
VALUES (15, 'Mouse Ergonómico', 'Ratón cómodo para usuarios', 2, 2, 40.00, 30.00, 18);


-- Insertar registros en la tabla FACTURAVENTA
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (1, TO_DATE('2024-03-03', 'YYYY-MM-DD'), 1, 1);
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (2, TO_DATE('2024-03-03', 'YYYY-MM-DD'), 2, 2);
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (3, TO_DATE('2024-03-03', 'YYYY-MM-DD'), 3, 3);
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (4, TO_DATE('2024-03-03', 'YYYY-MM-DD'), 4, 1);
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (5, TO_DATE('2024-03-03', 'YYYY-MM-DD'), 5, 2);

-- Insertar registros en la tabla DETALLEVENTA
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (1, 1, 2, 200.00);
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (1, 2, 1, 150.00);
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (2, 3, 3, 100.00);
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (3, 4, 1, 400.00);
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (4, 5, 2, 250.00);

-- Insertar registros en la tabla HISTORIALPRODUCTO
INSERT INTO HISTORIALPRODUCTO (IDHISTORIAL, FECHAACCIÓN, TIPOACCION, IDPRODUCTO)
VALUES (1, TO_DATE('2024-03-03', 'YYYY-MM-DD'), 'Venta', 1);
INSERT INTO HISTORIALPRODUCTO (IDHISTORIAL, FECHAACCIÓN, TIPOACCION, IDPRODUCTO)
VALUES (2, TO_DATE('2024-03-03', 'YYYY-MM-DD'), 'Venta', 2);
INSERT INTO HISTORIALPRODUCTO (IDHISTORIAL, FECHAACCIÓN, TIPOACCION, IDPRODUCTO)
VALUES (3, TO_DATE('2024-03-03', 'YYYY-MM-DD'), 'Venta', 3);
INSERT INTO HISTORIALPRODUCTO (IDHISTORIAL, FECHAACCIÓN, TIPOACCION, IDPRODUCTO)
VALUES (4, TO_DATE('2024-03-03', 'YYYY-MM-DD'), 'Venta', 4);
INSERT INTO HISTORIALPRODUCTO (IDHISTORIAL, FECHAACCIÓN, TIPOACCION, IDPRODUCTO)
VALUES (5, TO_DATE('2024-03-03', 'YYYY-MM-DD'), 'Venta', 5);

-- Factura 16
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (16, TO_DATE('2024-03-14', 'YYYY-MM-DD'), 1, 1);

-- DetalleVenta para Factura 16
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (16, 6, 2, 1500.00);

INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (16, 7, 1, 800.00);

INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (16, 8, 3, 120.00);

-- Factura 17
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (17, TO_DATE('2024-03-15', 'YYYY-MM-DD'), 2, 2);

-- DetalleVenta para Factura 17
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (17, 9, 1, 30.00);

INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (17, 10, 2, 300.00);

INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (17, 11, 1, 180.00);

-- Factura 18
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (18, TO_DATE('2024-03-16', 'YYYY-MM-DD'), 3, 3);

-- DetalleVenta para Factura 18
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (18, 12, 2, 200.00);

INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (18, 13, 1, 30.00);

INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (18, 14, 3, 70.00);


-- Factura 19 para Laptop Ultra
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (19, TO_DATE('2024-03-17', 'YYYY-MM-DD'), 4, 1);

-- DetalleVenta para Factura 19 y Laptop Ultra
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (19, 6, 3, 1800.00);

-- Factura 20 para Laptop Ultra
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (20, TO_DATE('2024-03-18', 'YYYY-MM-DD'), 5, 2);

-- DetalleVenta para Factura 20 y Laptop Ultra
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (20, 6, 2, 1600.00);

-- Factura 21 para Laptop Ultra
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (21, TO_DATE('2024-03-19', 'YYYY-MM-DD'), 1, 3);

-- DetalleVenta para Factura 21 y Laptop Ultra
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (21, 6, 4, 2000.00);


-- Factura 22 - Trimestre 1
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (22, TO_DATE('2024-01-15', 'YYYY-MM-DD'), 2, 1);

-- DetalleVenta para Factura 22
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (22, 1, 2, 200.00);

-- Factura 23 - Trimestre 2
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (23, TO_DATE('2024-04-15', 'YYYY-MM-DD'), 3, 2);

-- DetalleVenta para Factura 23
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (23, 2, 3, 300.00);

-- Factura 24 - Trimestre 3
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (24, TO_DATE('2024-07-15', 'YYYY-MM-DD'), 4, 3);

-- DetalleVenta para Factura 24
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (24, 3, 1, 100.00);


-- Factura 25 - Año 2022
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (25, TO_DATE('2022-03-20', 'YYYY-MM-DD'), 5, 1);

-- DetalleVenta para Factura 25 y Laptop Ultra
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (25, 6, 2, 1800.00);

-- Factura 26 - Año 2023
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (26, TO_DATE('2023-05-22', 'YYYY-MM-DD'), 1, 2);

-- DetalleVenta para Factura 26 y Laptop Ultra
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (26, 6, 3, 1600.00);

-- Factura 27 - Año 2024
INSERT INTO FACTURAVENTA (NUMEROORDEN, FECHA, IDCLIENTE, IDESTADO)
VALUES (27, TO_DATE('2024-08-25', 'YYYY-MM-DD'), 2, 3);

-- DetalleVenta para Factura 27 y Laptop Ultra
INSERT INTO DETALLEVENTA (NUMEROORDEN, IDPRODUCTO, CANTIDAD, PRECIOUNITARIO)
VALUES (27, 6, 4, 2000.00);


-- Modificar< el precio de compra y venta del producto 1
UPDATE PRODUCTO
SET PRECIOVENTA  = 120.00,
    PRECIOCOMPRA = 60.00
WHERE IDPRODUCTO = 1;



SELECT *
FROM (SELECT TO_CHAR(FECHA, 'YYYY') AS ANIO,
             TO_CHAR(FECHA, 'Q')    AS TRIMESTRE,
             P.NOMBREPRODUCTO,
             DV.CANTIDAD
      FROM FACTURAVENTA F
               JOIN DETALLEVENTA DV ON F.NUMEROORDEN = DV.NUMEROORDEN
               JOIN PRODUCTO P ON DV.IDPRODUCTO = P.IDPRODUCTO)
    PIVOT (
    SUM(CANTIDAD)
    FOR (TRIMESTRE) IN
        ('1' AS TRIMESTRE_1,
        '2' AS TRIMESTRE_2,
        '3' AS TRIMESTRE_3,
        '4' AS TRIMESTRE_4)
    )
ORDER BY ANIO, NOMBREPRODUCTO;



-- Insertar un producto principal
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (101, 'Computadora Portátil', 'Potente portátil para uso profesional', 1, 3, 1200.00, 900.00, 5, NULL);

-- Insertar productos internos que forman parte del producto principal
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (102, 'Procesador Intel i7', 'Procesador de alto rendimiento', 2, 5, 400.00, 350.00, 10, 101);

INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (103, 'Memoria RAM 16GB', 'Módulo de memoria DDR4', 2, 4, 150.00, 120.00, 20, 101);

INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (104, 'Disco Duro SSD 512GB', 'Almacenamiento de estado sólido', 3, 2, 300.00, 250.00, 15, 101);







-- Nivel 1: Producto principal
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (201, 'Electrónico Nivel 1', 'Producto principal de nivel 1', 8, 5, 500.00, 400.00, 10, NULL);

-- Nivel 2: Producto interno 1
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (202, 'Electrónico Nivel 2', 'Primer producto interno de nivel 2', 8, 5, 250.00, 200.00, 15, 201);

-- Nivel 3: Producto interno 2
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (203, 'Electrónico Nivel 3', 'Segundo producto interno de nivel 2', 8, 5, 120.00, 90.00, 20, 202);

-- Nivel 4: Producto interno 3
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (204, 'Electrónico Nivel 4', 'Tercer producto interno de nivel 3', 8, 5, 80.00, 60.00, 25, 203);

-- Nivel 5: Producto interno 4
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (205, 'Electrónico Nivel 5', 'Cuarto producto interno de nivel 4', 8, 5, 50.00, 40.00, 30, 204);







-- Nivel 1: Producto principal
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (301, 'Camiseta Principal', 'Producto principal de la categoría Ropa', 7, 5, 30.00, 20.00, 50, NULL);

-- Nivel 2: Producto interno 1
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (302, 'Camiseta Interior 1', 'Primera camiseta interior de nivel 2', 7, 5, 15.00, 10.00, 70, 301);

-- Nivel 3: Producto interno 2
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (303, 'Camiseta Interior 2', 'Segunda camiseta interior de nivel 2', 7, 5, 12.00, 8.00, 60, 302);

-- Nivel 4: Producto interno 3
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (304, 'Camiseta Interior 3', 'Tercera camiseta interior de nivel 3', 7, 5, 10.00, 7.00, 45, 303);

-- Nivel 5: Producto interno 4
INSERT INTO PRODUCTO (IDPRODUCTO, NOMBREPRODUCTO, DESCRIPCIÓN, CATEGORIA_IDCATEGORIA, COLOR_IDCOLOR, PRECIOVENTA, PRECIOCOMPRA, CANTIDAD, ID_PRODUCTO_COMPUESTO)
VALUES (305, 'Camiseta Interior 4', 'Cuarta camiseta interior de nivel 4', 7, 5, 8.00, 5.00, 30, 304);




-- Crear nuevas categorías
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE) VALUES (206, 'Nueva Categoría 1', null);
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE) VALUES (207, 'Nueva Categoría 2', null);
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE) VALUES (208, 'Nueva Categoría 3', null);
INSERT INTO CATEGORIA (IDCATEGORIA, DESCRIPCION, IDCATEGORIAPADRE) VALUES (209, 'Nueva Categoría 4', null);

-- Actualizar categoría de los productos
UPDATE PRODUCTO SET CATEGORIA_IDCATEGORIA = 206 WHERE IDPRODUCTO = 202;
UPDATE PRODUCTO SET CATEGORIA_IDCATEGORIA = 207 WHERE IDPRODUCTO = 203;
UPDATE PRODUCTO SET CATEGORIA_IDCATEGORIA = 208 WHERE IDPRODUCTO = 204;
UPDATE PRODUCTO SET CATEGORIA_IDCATEGORIA = 209 WHERE IDPRODUCTO = 205;






